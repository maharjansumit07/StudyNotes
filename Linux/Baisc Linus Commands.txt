What is the sign displayed at first terminal login?

"$" -- typically a default command prompt for regular account with standard user permissions and does not have administrative or root access. Users can execute most commands, but may not have the necessary permissions to perform certain administrative tasks.

" # "  -- a default command prompt for the root or administrative user account. The user or root has full administrative privileges and can execute any commands. it has the highest level of access and can perform the administrative tasks such as installing, modifying and managing user accounts. 
----------------------------------------------------------------------------------------------------------------------------------------

Hostname:  System's identity name. 
---------
The hostname is saved into /etc/hostname

$ sudo nano /etc/hostname
set the hostname or change the hostname if present. 

or simply directly change the hostname by this command. 
$ sudo hostnamectl set-hostname "new_hostname"
or we can reflect to /etc/hosts directly by adding this.
$ sudo hostnamectl set-hostname "new_hostname" --static


----------------------------------------------------------------------------------------------------------------------------------------
Package manager			
ubuntu/mint         -- apt, snapd, flatpak, software center.
Debian              -  apt,aptitude, snap, flatpak,apt-get,apt-cache
centos/rocky linux  -- dnf , yum		
fedora              - yum, dnf		
arch                - pamac, yay, paru,, flatpak		
=========================================================================================================================================
File Types   = the file types are defied by their first character or letter. 


1. Regular files   == "-"
    -rw-rw-r-- 1 k k    0 Dec  9 09:16 myfile1

2. Directory files  == "d"
    drwxrwxr-x 2 k k 4096 Dec  9 09:16 mydir
    

3. Special files
    a. Block files  == "b"
    There files are hardware files and they are present in /dev. They are create by partitioning or by fdisk.
    brw-rw----  1 root disk        7,   0 Dec  8 13:31 loop0
    brw-rw----  1 root disk        7,   7 Dec  8 13:31 loop7

    b. Character Device file  == "c"
    They provide a serial steam of input or output.
    crw-r----- 1 root root 13, 32 Dec  9 08:39 /dev/input/mouse0

    c. Pipe file == "p"
    prw-rw-r--   1 k k    0 Dec  9 09:56 backpipe

    d. Symbolic file  == "l"
    These are linked files, meaning a shortcut files as in Windows. The inode number for theses file and parent files are same.
    lrwxrwxrwx 1 k k    7 Dec  9 09:16 my_link -> myfile1

    e. Socket File  == "s"
    it is used to pass information between applications.
    srw-rw-rw- 1 root       root          0 Dec  8 13:31 acpid.socket
    srw-rw---- 1 root       docker        0 Dec  8 14:15 docker.sock

=========================================================================================================================================
Command Accesibility (to get details about commands)

--help or /h  -> to learn about the commands , usually used after the command to get more detail.
info    ->  it provides detailed hyperlinked documentations. The pages are organized into chapters and sections. 
whatis  ->  will display one line summary of the purpose of the command. It can be very helpful when we want the description of the command without going into the detailed syntax or options. 
man     ->  short of "Manual", provides the standard reference documentation 
----------------------------------------------------------------------------------------------------------------------------------------
File And Direcotry Management
pwd => to know the current location.
ls =>  to list the file
rm  ==> Remove command, used for removing or deleting files and directories. 
mkdir ==> Make Directory, is used to Create a new directory or folder. 
rmdir ==> remove directory, to remove directory. 
history ==> to view and manage the command history. 

Editors:
vi  => vim editor to edit the files. [!Note] Always user 'sudo' if you are not logged in as 'root' user. 
Nano => simple text editor, and very friendly. 
gedit => Graphical Text Editor as part of GNOME desktop environment.

View data within the file.
cat  => a fundamental command that is used for various text view or manipulations tasks.
less => similar to cat , but used to view the contents of text files or the output of other commands. 
more => similar to cat, but used to view the contents of text files or the out of other commands one page at a time.
cd ==> Change Directory, to navigate to the file system or other directory. 
$ cd (enter)      or cd ~/    or cd ~
 this is take directly to home directory.


Relative Path ==> refers to a way of specifying the location  of a file or directory that is relative to the current working directory.
directory
eg. I have a file here at /home/test folder with text.txt file.
Linux_practical:~/test$ ls -l
total 4
-rw-r--r-- 1 root root    0 Jun  1 19:57 test
-rw-r--r-- 1 root root    0 Jun  1 19:58 test.txt
drwxr-xr-x 3 root root 4096 Jun  1 19:55 test1

now jumping into child directories till test2.
Linux_practical:~/test$ cd test1
Linux_practical:~/test/test1$ cd test2

so relative path here is that .. represents 1 step above the child directory, 
and adding another .. means going another above of child directory or towards parent directory.
Here, as example, I am trying to view the file from Test2 folder, going 2 steps towards the parent directory.
so I am going from test2 to test1 and then test1 to test parent directory. 
Linux_practical:~/test/test1/test2$ ls -l ../../
total 4
-rw-r--r-- 1 root root    0 Jun  1 19:57 test
-rw-r--r-- 1 root root    0 Jun  1 19:58 test.txt
drwxr-xr-x 3 root root 4096 Jun  1 19:55 test1

Similarly, we can move from parent directory to child directory as needed. 

Absolute Path==> refers to the complete and exact location of a file or directory from root directory.
Here, We are in test2 folder. 
Linux_Practical:~/test/test1/test2$ pwd
/home/user/test/test1/test2
Linux_Practical:~/test/test1/test2$ ls
2ndtest.txt
Linux_Practical:~/test/test1/test2$ cd
Linux_Practical:~$

now to view the file, we will be looking from root to home directory going int user directory and lastly to its child directory.
Linux_Practical:~$ ls /home/user/test/test1/test2/
2ndtest.txt

-----------------------------------------------------------------------------------------------------------------------------------
External search within the file.
grep => (Global Regular Expression Print) a command line tool for searching and filtering text. It is widely used in shell scirpts system administration tasks, and data processing workflows. 
egrep  ==> (Extended GREP) is a more pattern matching than grep. as Grep uses basic expressionss , egrep uses extended regular expressions. It can be used to search more than 1 pattern search. 

------------------------------------------------------------------------------------------------------------------------------------

copy files,
-----------
cp ==> to copy files and directories.
scp ==> Secure Copy Protocol , to securely copy files between computer over a network. 
scp user@ip:path/to/remote /path/to/local_directory/
mv ==> to more a file or rename files or directories.
-------------------------------------------------------------------------------------------------------------------------

find out file location.
------------------------
whereis ==> to locate the binary,source, and manual page files for a given command or program. 

find ==> used to search files and direcories based on various criteria, such as names, type, size, permissions and more.
find /path/to/directory -name "filename.txt"
find /path/to/directory -type f # for files,  - type d for direcotry.
find /path/to/directory -size +100M             -- files larger than 100MB , -size -20k --files smaller than 20K.
find /path/to/directory -mtime +8               --files modified more than 8 days ago,     -mtime -1  --files modified less than 1 day ago.
find /path/to/directory -perm 777               --files with permissions 777 (rwxrwxrwx)
find /path/to/directory -name "*.txt" -exec cp {} /backup/directory \;      --to execute command on found files.
find /path/to/directory -type f -name "*.doc" -size +40M -mtime -7          --to find the file extensions with doc with size more than 40MB and modified in within last 7 days.


=========================================================================================================================
File permissions:
-------------------
Read= 4,        write = 2       execute =1 
permissions.
1       only execute
2       only write
3       write and execute
4       only Read
5       Read and execute
6       read and write
7       read, write, execute.
-------------------------------------------------------------------------------------------------------------------------------
chmod: change mode, to change the access permission fo file or directories.
----------
chmod 777 example.txt
here first 7 is for the user,  second 7 is for Group and third 7 is for others.

or, 
chmod u=rwx, g=rwx ,o=rwx file/directory
chmod u=rw, g=, o= files/directory

or, simply all uses the below command for the permission change.
chmod +rwx files/directory 


chown: Change ownership
-------
$ chown [option] owner[:group] file
$ chown john:staff document.txt
or 
$ chown john document.txt
$ chown -R john:staff /path/to/directory
The above example is to change the ownership of a directory and all its contents.


==========================================================================================================================

inode ==> index node, a data structure that stores information about a file or directory. it is used by the operating ysstem to access and manage the file or directory. 
it stores the metadata , or attributes of a file or directory such as file type, permissions, user and group ownership, file size, timestamp,and file store place. 
$ ls -i 
12345 -rw-r--r-- 2 user group 1024 May 31 2024 
12345 -rw-r--r-- 2 user group 1024 May 31 2024 
Here, as above, 12345 is the inode. 

hard link ==> allows efficient file management and organization by providing multiple access points to the same file data.
$ ln original_file hard_link_file
$ ls -li
25165842 -rw-r--r-- 2 user group 25 May 31 12:34 hard_link.txt
25165842 -rw-r--r-- 2 user group 25 May 31 12:34 original_file.txt

$ echo "This is an updated file." > original_file.txt
$ cat original_file.txt
This is an updated file.
$ cat hard_link.txt
This is an updated file.

soft link==> also known as symbolic link, is a special file that serves as a reference to another file or direcotry. 
Similar to creating a shortcut file in windows.
It is created using the 'ln' command with the '-s' option.
eg. 
ln -s source.filename linkname
ln -s file1 link1

ln -s /home/user/documents/important_document.txt /home/user/desktop/important_doc_link

To view the soft link.
ls -l /home/user/desktop
lrwxrwxrwx 1 user user 36 Jun 01 2024 important_doc_link -> /home/user/documents/important_document.txt

----------------------------------------------------------------------------------------------------------------------------------------
User Group and Management

Whoami => to view the active user using the shell.
or 
users   == to view the current user.

su  => switch user

Chown  => change ownership of the file or directory.

chmod  => to change the access permissions of the files or directories.

useradd  => to add users.

groupadd => to add group

passwd  => to change password.

groups => to manage user groups. Groups are collections of users that share permissions and access rights. 

usermod => to modify user account properties, such as primary group, login shell,, home directory and other settings. 

groupmod => to modify the properties of an existing group including changing group name, Group ID or the group members.

chage  => to manage user account password and aging information .

chfn  => change User information 

chsh  => to change user's default login shell. the login shell is the program that is executed when a user logs in to the system.

getent  => used to retrieve information about users, groups, hosts, networks, protocols, services, and other database entries. It gets entries from Name service switch libraries.

cut => a powerful tool to extract specific fields or columns from input text data, commonly used in shell scripts and command line operations to manipulate data. 

awk => widely used for data manipulations and extractions. 

sed => can be used for finding and replacing operations, deleting or adding lines and more. 

-------------------------------------------------------------------------------------------------
change

-I  ==> inactive,    

-d  ==> last date    ==>         chage -d 2023-12-12 username  

-E  ==> Expire date  ==>         chage -E 2024-05-31 username  

-l  ==> list, view inforamion.  ==>   chage -l username

-m  ==> minimum day  ==>         chage -d 2024-05-29 username   

-M  ==> Maximum day   ==>        chage -M -1 username

-W  ==> warning day. ==>         chage -W 7 username

===================================================================================================================================

usermod -a -G group1,group2 username           ==> Add user to groups

usermod -G group1,group2 username              ==> remote users from all group except the primary group.

usermod -g <new group name> username           ==> to change user's primary group

usermod -s /bin/bash username                  ==> to change users login shell.

usermod -L username                            ==> to lock or disable the user account     

usermod -l new_name existing_username          ==> to change the username.

usermod -d /new/home/directory                ==>  To change users Home directory

usermod -L username  or usermod -U username   ==> to lock the user. 

usermod -e YYYY-MM-DD username                ==> to set the expire date

usermod -s /path/to/new/shell username        ==> to change user's shell

usermod -p passord_expire_days username      ==> to set or change the user's password expire date information. 

====================================================================================================================================
passwd username                 ==>  change user password
passwd -x 90 username           ==>  Change User's password expiration date to 90 days.
passwd -l username              ==>  to lock the user account.
passwd -u username              ==>  unlock the user account.
passwd -e username              ==>  To set the password expire immediately.
====================================================================================================================================
who :   to view who logged in
------
who         == display current users logged in detail.
who -a      == all users  or simply it is combination of all (-b -d --login -r -p -t -T -u)
who -b      == time of last boot
who -d      == print dead process
who -H      == print link of column headings 
who -l      == login 
who -q      == to view all logins names 
who -r      == to view run level,
who -s      == print only name
who -T      == to display about terminal type and status of each users currently logged in.
who -u      == List of users logged in with process id

Linux@Pratical:~$ who -u
Linux   pts/1        2024-06-01 11:57  old          487

Linux@Practical:~$ who -a
           system boot  2024-06-01 11:57
LOGIN      console      2024-06-03 21:54            202733 id=cons
LOGIN      tty1         2024-06-03 21:54            202646 id=tty1
Linux   - pts/1        2024-06-01 11:57  old          487
           run-level 5  2024-06-01 11:57
           pts/2        2024-06-01 23:07            119361 id=ts/2  term=0 exit=0

---------------------------------------------------------------------------------------------------------------
Last:   == show listing of last users logged in. 
------
last        == display information about the last logged in users. 
last -a     == display hostname in last column
last -d     == translate ip into hostname 
last -f     == use a specific file instead of /var/log/wtmp
last -F     == Print full login and logout times and date
last -i     == dipslay IP 
last -s     == since times

eg.  last -s (yyyy-mm-dd)
    last -s (yyyy-mm-dd hh:mm:ss)
    last -s (hh:mm)
    last -s -(number)days
    last -s (username)
    last -s (1stusername 2nusername)
Linxu@Practical:~$ last -s  12:00
wtmp begins Sat May 25 13:47:06 2024

last -t     == until time
eg.
Linux@Practical:~$ last -t  12:00
Linux    pts/1                         Sat Jun  1 11:57    gone - no logout
reboot   system boot  5.15.146.1-micro Sat Jun  1 11:57   still running
Linux    pts/1                         Wed May 29 21:59 - crash (2+13:58)
reboot   system boot  5.15.146.1-micro Wed May 29 21:59   still running
Linux    pts/1                         Wed May 29 18:34 - crash  (03:24)

last -p     == display who are present at the specific time.
last -w     == display full user and domain names
last -xr    == display system shut down enteries and run level changes.

lastb       == to view bad login attempts
------------------------------------------------------------------
====================================================================================================================================

DNS troubleshooting commands
-----------------------------
DIG:
----
dig == Domain information Groper - a troubleshooting tool in linux and Unix-like operating system. It is used to perform DNS lookups and analyze the responses.
dig www.example.com.np
dig -x IP-ADDRESS           	==> to find out the Name server PTR (Pointer Record).
dig @8.8.8.8 example.com.np
dig example.com.np A
dig example.com.np MX
dig SOA +multiline example.com.np
dig +nssearch example.com.np		==> to display primary and secondary name servers with IP address.
dig SOA example.com.np @ns1.example.com		==> to retrieve SOA record from the specific name server. 
dig +trace www.example.com
dig +yaml www.example.com


NSLOOKUOP
---------
nslookup www.example.com
nslookup -type=PTR IP-ADDRESS/domain-name       , MX, SOA, 
nslookup -debug www.example.com     ==> provides more dtailed information about DNS resolution process,
including the query and response packets.
nslookup -debug -type=A www.example.com
nslookup server 8.8.8.8 example.com         ==> to use 8.8.8.8 server and perform a lookup for the domain example.com

host:
------
host www.example.com         ==> it will display address and mail primary and secondary MX server.
host -a www.example.com      ==> will display detail of A,AAA, MX and NS information.
host -C google.com           ==> to display the nameservers IP and SOA record
host -d sumaharjan.com       ==> to display nameservers and MX record.

=========================================================================================================================================
mount


------------------------------------------------------------------------------------------------------------------------
Process and resource monitoring:
---------------------------------
ps
top

=============================================================================================================================

System Check commands:
----------------------



=============================================================================================================================

Package management

apt/apt-get
Dpkg

Task scheduling
---------------
At :
-----
at <time>
HH:MM(am/pm) DD.MM.YY YYYY-MM-DD MM/DD/[cc]YY MMDD
-now +num period minutes hours days weeks

Cron:
------
<min> <Hour> <DoM> <Month> <DoW> <Command/Script>
[00-59] [00-23]  [1-31]    [1-12]    [0-6/1-7] 
					     
* = any
/ = frequency. */N, A-B/N 
, = multiple. A,B,C
- = range. A-B

#crontab


head
Accessing logs with tail

tail <options> <logfile>

Logs location: /var/log

<DateTime>	<Hostname>	<Process>[PID]:	Message

var/log/syslog
== stores all records about any global activity in the system. Basically, every event that happens goes into this log.
var/log/dmesg
== stores all logs related to system drivers.
var/log/cups
== stores all logs related to printer.
/var/log/auth.log
== stores all security-related actions. Those include login, logout, and root user activity.
/var/log/kern.log
== stores events of the kernel like info, warning, and errors. Those logs are especially useful for custom kernels.
/var/log/boot.log
== stores system startup info.
/var/log/apt
== stores apt service logs.
/var/log/utmp
== stores users currently logged in the system. $who -H
/var/log/wtmp
== stores users previously logged in. It contains the past data from utmp. $last -R
/var/log/btmp
== stores failed login attempts. $lastb

Network configuration

Ip 

Ifconfig

Netplan
etc/netplan/
sudo netplan generate
sudo netplan apply

Network tools
Ping:
ping <options> <address>/<ip>
traceroute	
netstat:
netstat <options> 
DNS 
host

-----------------------------------------------------------------------------------------------------
lsof (List Open Files)
-----------------------
lsof                ==> List all files opened by any process
lsof -p 1000        ==> List files opened by a process with PID 1000
lsof -p #1000       ==> List files opened by any other process than PID 1000
lsof -u <username>  ==> List files opened by specific user-owned processes
lsof -u^root List   ==> files opened by all non-root users
lsof <directory>    ==> Show what processes are using <directory>
lsof <filename>     ==> List all processes that have opened <filename>
lsof +D /tmp        ==> List all files that have been opened under /tmp
lsof +L1            ==> List files deleted but still held open by running processes
lsof -c <command>   ==> List open files by processes executing <command>
lsof -d mem         ==> List all memory-mapped files

List Network Connections and Sockets

lsof -i             ==> List all open network connections
lsof -1:80          ==> List open TCP/UDP connections with port 80
lsof -i tep:1-1024  ==> List open TCP connections with a given port range
lsof -i-n           ==> List open network connections with no reverse DNS lookup
lsof -i-n -P        ==> List open network connections with no port name conversion
lsof -i6            ==> List open IPv6 network connections (-i4 for IPv4)

other uses
lsof -U             ==> List open unix domain sockets
lsof /dev/tty1      ==> List commands/processes associated with /dev/tty1
kill -9 $(lsof -t -u <username>) ==> Kill all activities of a specific user
-----------------------------------------------------------------------------------------------------
Mtr
mtr <options> <domain/IP address>	
nmcli
nmtui ==> GUI network configuration. 
tcpdump 
netsh




Managing Services
Systemd
Systemctl

"/usr/lib/systemd/system"
"/lib/systemd/system"
"/etc/systemd/system"



Firewall:
ufw  => 
allow, 
deny, 
reject, 
limit, 
show, 
reset, 
reload,
disable



Remote login using SSH
Using user and passwd
$ ssh <username>@<host-address>:<port>

Using ssh private key
$ ssh-keygen
$ ssh-copy-id

Using tar for handling archive
tar <options> <files/dirs>
Create archive
$ tar -cvf
$ tar -cvzf

List archive
$ tar -tvf 

Add new files/dirs to archive
$ tar -rvf

Extract an archive
$ tar -xvf

Downloading files using wget



Shell Scripting.
comment
she-bang, interpreter's path
commands

logical operations
if
case
while
for


Linux Structure. 

                   | ---- /bin/         [Essential User Command Binaries]
                   | 
                   | ---- /boot/        [Files of the boot loader]
                   |     
                   |---- /dev/          [Hardware Device files]
                   |
                   |---- /media/        [Removable Media]
                   |
                   |---- /mnt/          [Mounted FileSystem]
                   |
                   |---- /opt/          [Add on Application software package]
                   |                    
                   |---- /sbin/         [System Binary]
                   |
  / (root)---------|---- /srv/          [Service Data]
                   |
                   |---- /proc/         [Process Information]
                   |
                   |---- /home/         [Home Directory]
                   |
                   |---- /etc/          [Configuration Files]
                   |
                   |---- /var/          [Variable Files]
                   |
                   |---- /lib/          [System Libraries]
                   |
                   |---- /tmp/          [Temporary files]
                   |
                   |---- /usr/          [User Programs]


.bashrc
getent -- examples






